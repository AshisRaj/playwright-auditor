<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Qualisight</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%3E%0A%20%20%3Cdefs%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22qStroke%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%25%22%20%20stop-color%3D%22%2334d399%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%2255%25%22%20stop-color%3D%22%2360a5fa%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%22100%25%22%20stop-color%3D%22%23a78bfa%22%2F%3E%0A%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%3C%2Fdefs%3E%0A%20%20%3Ccircle%20cx%3D%2232%22%20cy%3D%2232%22%20r%3D%2222%22%20fill%3D%22none%22%20stroke%3D%22rgba(0%2C0%2C0%2C0.08)%22%20stroke-width%3D%2210%22%2F%3E%0A%20%20%3Ccircle%20cx%3D%2232%22%20cy%3D%2232%22%20r%3D%2220%22%20fill%3D%22none%22%20stroke%3D%22url(%23qStroke)%22%20stroke-width%3D%228%22%20stroke-linecap%3D%22round%22%2F%3E%0A%20%20%3Cpath%20d%3D%22M45%2045%20L56%2056%22%20stroke%3D%22url(%23qStroke)%22%20stroke-width%3D%228%22%20stroke-linecap%3D%22round%22%2F%3E%0A%20%20%3Crect%20x%3D%2230%22%20y%3D%2217%22%20width%3D%224%22%20height%3D%2228%22%20rx%3D%222%22%20fill%3D%22%230f172a%22%2F%3E%0A%20%20%3Ccircle%20cx%3D%2232%22%20cy%3D%2212.5%22%20r%3D%223%22%20fill%3D%22%2322d3ee%22%2F%3E%0A%3C%2Fsvg%3E"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --bg-start:#59d6c9; --bg-mid:#7aa6ff; --bg-end:#9a5be8;
      --card:#0f1724; --card-2:#0f1826; --ink:#e9f0ff; --muted:#bcd1ffcc;
      --line:#1f2b45; --pill-bg:#0f1c31; --pill-ink:#cfe0ff;
      --bar-track:#17304d; --bar-ink:#9fb6ff;

      /* Logo palette */
      --logo-surface:#0b1a33;
      --logo-stroke1:#34d399;
      --logo-stroke2:#60a5fa;
      --logo-stroke3:#a78bfa;
      --logo-dot:#22d3ee;
      --logo-i:#e2fbe8;
      --logo-glow:#65c7ff44;
    }
    body.light{
      --card:#fff; --card-2:#fff; --ink:#0f172a; --muted:#475569;
      --line:#e2e8f0; --pill-bg:#eef2ff; --pill-ink:#0f172a;
      --bar-track:#e6edf9; --bar-ink:#334155;

      --logo-surface:#ffffff;
      --logo-i:#0f172a;
      --logo-glow:#65c7ff22;
    }

    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--ink);
      background: radial-gradient(1200px 600px at 10% 0%, #7eead8 0%, #7eead800 60%),
                  linear-gradient(135deg, var(--bg-start) 0%, #6db7ff 40%, var(--bg-end) 100%);
      min-height:100%;
    }
    .page{max-width:1120px;margin:0 auto;padding:56px 24px 64px}
    .menu{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:10px;margin-bottom:12px;align-items:center}
    .menu button,.menu label,.menu input[type=search]{font-size:12px;border-radius:10px}
    .menu button{
      appearance:none;border:1px solid #28406b;background:#0b1a33;color:#cfe0ff;padding:8px 12px;cursor:pointer;box-shadow:inset 0 0 0 1px #ffffff0a;
    }
    body.light .menu button{border-color:#cbd5e1;background:#fff;color:#0f172a;box-shadow:inset 0 0 0 1px #00000008}
    .menu input[type=search]{padding:8px 10px;border:1px solid #28406b;background:#0b1a33;color:#cfe0ff;min-width:220px;outline:none}
    body.light .menu input[type=search]{border-color:#cbd5e1;background:#fff;color:#0f172a}
    .menu .checkline{display:inline-flex;align-items:center;gap:6px;padding:6px 8px;border:1px solid #28406b;background:#0b1a33;color:#cfe0ff;border-radius:10px}
    body.light .menu .checkline{border-color:#cbd5e1;background:#fff;color:#0f172a}

    .brand{display:flex;align-items:center;gap:16px}
    .qlogo{
      width:66px;height:66px;border-radius:16px;
      background:linear-gradient(180deg,var(--logo-surface),#0b1a3300);
      position:relative;display:grid;place-items:center;
      box-shadow:0 12px 28px #0a0f2026, inset 0 0 0 1px #ffffff12, 0 0 0 6px transparent;
      overflow:hidden;
    }
    body.light .qlogo{ box-shadow:0 8px 18px #00000012, inset 0 0 0 1px #00000010 }
    .qlogo::after{ content:""; position:absolute; inset:0; border-radius:16px; box-shadow:inset 0 0 24px var(--logo-glow); pointer-events:none; }
    .qlogo svg{ display:block; width:52px; height:52px; }

    .wordmark{font-weight:800;letter-spacing:-0.5px;font-size:56px;line-height:1;margin-top:2px;text-shadow:0 2px 8px #0000001c}
    .tagline{font-size:36px;font-weight:600;letter-spacing:-0.2px;margin:28px 0 36px;color:var(--ink);text-shadow:0 2px 10px #00000022}

    .grid{display:grid;grid-template-columns:1.05fr 1fr;gap:24px}
    .card{background:var(--card);border-radius:18px;padding:28px;box-shadow:0 12px 28px #0a0f2026,inset 0 0 0 1px #ffffff0f}
    body.light .card{box-shadow:0 8px 18px #00000012,inset 0 0 0 1px #00000008}

    .kpi{display:flex;align-items:center;gap:16px;margin-bottom:6px}
    .score{font-size:48px;font-weight:800;letter-spacing:-0.3px}
    .meta{font-size:13px;color:var(--muted)}
    .meta b{color:#ffffffd9;font-weight:600} body.light .meta b{color:#0f172a}
    .subhead{font-weight:700;margin:18px 0 10px;font-size:18px}

    .list{margin:6px 0 0;padding:0;list-style:none;display:flex;flex-direction:column;gap:12px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:8px}
    .name{color:#dbe7ff;font-weight:300} body.light .name{color:#0f172a}
    .name small{opacity:.7}
    .right{display:flex;align-items:center;gap:8px}
    .badge{font-size:12px;line-height:20px;min-width:20px;display:inline-flex;justify-content:center;align-items:center;padding:0 8px;border-radius:999px;background:#122036;color:#9dc1ff;border:1px solid #28406b}
    body.light .badge{background:#eef2ff;color:#334155;border-color:#cbd5e1}
    .tick{width:20px;height:20px;border-radius:999px;background:rgba(20,214,122,.12);color:#10d07a;display:inline-flex;justify-content:center;align-items:center;font-size:14px;font-weight:700;border:1px solid rgba(20,214,122,.35)}
    .err{background:rgba(255,77,79,.14);color:#ff6b6d;border-color:rgba(255,77,79,.35)}
    body.light .err{background:#fee2e2;color:#b91c1c;border-color:#fecaca}

    .badge.ok{ background:rgba(20,214,122,.12); color:#10d07a; border-color:rgba(20,214,122,.35); }
    body.light .badge.ok{ background:#dcfce7; color:#166534; border-color:#bbf7d0; }
    .cross{ width:20px;height:20px;border-radius:999px;background:rgba(255,77,79,.14);color:#ff6b6d;display:inline-flex;justify-content:center;align-items:center;font-size:14px;font-weight:700;border:1px solid rgba(255,77,79,.35) }
    body.light .cross{ background:#fee2e2; color:#b91c1c; border-color:#fecaca }

    .chart-wrap{display:grid;grid-template-columns:1fr;gap:20px}
    .h2{font-size:18px;font-weight:700;margin-bottom:8px}
    .viz{display:grid;grid-template-columns:1fr;gap:10px;align-items:center;justify-items:center}
    .pie{width:260px;height:260px;position:relative}
    .pie .center{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:36px;letter-spacing:-0.3px;pointer-events:none}

    /* 3D-style look & feel + hover animations */
    .pie svg {
      filter: drop-shadow(0 6px 12px rgba(0,0,0,0.35));
      transition: transform 0.3s ease, filter 0.3s ease;
      transform: perspective(800px) rotateX(8deg);
      will-change: transform, filter;
    }
    .pie:hover svg {
      transform: perspective(800px) rotateX(0deg) scale(1.03);
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.45));
    }
    .pie path[data-slice="1"] {
      transition: transform 0.25s ease, filter 0.25s ease, stroke-width 0.25s ease, stroke 0.25s ease, opacity 0.25s ease;
      transform-origin: 130px 130px;
      opacity: 0;            /* for entrance animation */
      transform: scale(0.8); /* for entrance animation */
    }
    .pie path[data-slice="1"].pop-in {
      opacity: 1;
      transform: scale(1);
    }
    .pie path[data-slice="1"]:hover {
      transform: scale(1.06);
      filter: brightness(1.25) saturate(1.3);
      stroke: #ffffffaa;
      stroke-width: 1.5px;
    }

    /* Legend */
    .legend{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:6px 12px;align-self:stretch;width:100%;margin-top:4px}
    @media (min-width:520px){ .legend{grid-template-columns:repeat(3,minmax(0,1fr));} }
    @media (min-width:820px){ .legend{grid-template-columns:repeat(4,minmax(0,1fr));} }
    .legend-item{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--muted);min-width:0;cursor:default;transition:transform .2s ease, filter .2s ease}
    .legend-item.hover{filter:saturate(1.15) brightness(1.05); transform: translateY(-1px);}
    .legend-swatch{width:14px;height:14px;border-radius:4px;box-shadow:inset 0 0 0 1px #00000022; transition: transform .2s ease, filter .2s ease}
    body.light .legend-swatch{box-shadow:inset 0 0 0 1px #00000024}
    .legend-item.hover .legend-swatch{transform: scale(1.2); filter: brightness(1.15);}
    .legend-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

    .sev-rows{display:grid;gap:12px}
    .sev-row{display:grid;grid-template-columns:110px 1fr 64px;align-items:center;gap:12px}
    .sev-name{font-size:13px;color:var(--bar-ink);text-transform:capitalize}
    .sev-track{height:16px;border-radius:10px;overflow:hidden;background:var(--bar-track);box-shadow:inset 0 0 0 1px #ffffff14}
    body.light .sev-track{box-shadow:inset 0 0 0 1px #00000010}
    .sev-fill{height:100%;border-radius:10px}
    .sev-val{font-size:12px;color:var(--bar-ink);text-align:right}
    .total-line{text-align:center;font-size:12px;color:var(--bar-ink);margin-top:4px}

    .tabs{display:flex;gap:8px;flex-wrap:wrap;border-bottom:1px solid var(--line);padding-bottom:8px;margin:8px 0 16px}
    .tab{appearance:none;cursor:pointer;user-select:none;background:var(--pill-bg);color:var(--pill-ink);border:1px solid var(--line);border-bottom:2px solid transparent;padding:8px 12px;border-radius:10px 10px 0 0;font-size:13px;line-height:1}
    .tab[aria-selected=true]{background:#0b2a33;color:#e5f7ff;border-color:#22d3ee;border-bottom-color:transparent;box-shadow:0 1px 0 0 #0b2a33}
    body.light .tab{background:#f8fafc;color:#0f172a}
    body.light .tab[aria-selected=true]{background:#e6f6ff;color:#0f172a;border-color:#38bdf8}

    .cat-panel{background:var(--card);border-radius:16px;padding:16px;box-shadow:inset 0 0 0 1px #ffffff0f}
    .cat-panel.hidden{display:none}
    .item{border:1px solid var(--line);border-radius:12px;padding:12px;background:var(--card-2)}
    .item + .item{margin-top:10px}
    .item summary{list-style:none;cursor:pointer}
    .item summary::-webkit-details-marker{display:none}
    .item-head{display:grid;grid-template-columns:110px minmax(0,1fr) 110px;gap:12px;align-items:center}
    .status{display:inline-flex;align-items:center;gap:8px;font-weight:700}
    .status-pass{color:#16a34a}.status-fail{color:#ef4444}
    .sev-badge{padding:2px 8px;border-radius:999px;border:1px solid var(--line);font-size:12px;text-transform:capitalize}
    .sev-critical{color:#ef4444}.sev-high{color:#f59e0b}.sev-medium{color:#38bdf8}.sev-info{color:#7c83ff}
    .item-body{margin-top:8px;color:var(--ink);font-size:14px}
    .sub{color:var(--muted);font-size:12px}

    @media (max-width:980px){ .grid{grid-template-columns:1fr} .item-head{grid-template-columns:1fr;gap:6px} }

    .tooltip{ position:fixed; pointer-events:none; padding:6px 8px; font-size:12px; background:#0b1a33; color:#cfe0ff; border:1px solid #28406b; border-radius:8px; box-shadow:0 6px 20px #00000030; z-index:9999; }
    body.light .tooltip{ background:#fff; color:#0f172a; border-color:#cbd5e1; box-shadow:0 8px 18px #00000012; }

    /* Controlled margin utilities for specific headers */
    /* For Validation Summary */
    .heading-validation-summary {
      margin-top: 20px;
      margin-bottom: 16px; /* 1-line breathing space */
    }

    /* For Severity Breakdown */
    .heading-severity-breakdown {
      margin-top: 20px;
      margin-bottom: 10px;
    }

    /* For Category Reports */
    .heading-category-reports {
      margin-top: 5px; /* more breathing room before the section */
      margin-bottom: 25px;
    }

    </style>
</head>
<body>
  <div class="page">
    <div class="menu">
      <input id="search" type="search" placeholder="Search findings..."
             title="Search findings by title, message, file name, or artifact links" />
      <label class="checkline" title="Show only failed validations">
        <input id="onlyFailed" type="checkbox"/> Only failed
      </label>
      <button id="btnExpandAll"   title="Expand all visible findings">Expand All</button>
      <button id="btnCollapseAll" title="Collapse all visible findings">Collapse All</button>
      <button id="btnCsv"         title="Export all findings to CSV">Export CSV</button>
      <button id="btnTheme"       title="Toggle light/dark theme">Theme</button>
    </div>

    <div class="brand">
      <div class="qlogo" aria-label="Qualisight logo">
        <svg viewBox="0 0 64 64" role="img" aria-label="Q and I monogram">
          <defs>
            <linearGradient id="qStroke" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%"  stop-color="var(--logo-stroke1)"/>
              <stop offset="55%" stop-color="var(--logo-stroke2)"/>
              <stop offset="100%" stop-color="var(--logo-stroke3)"/>
            </linearGradient>
          </defs>
          <circle cx="32" cy="32" r="22" fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="10"/>
          <circle cx="32" cy="32" r="20" fill="none" stroke="url(#qStroke)" stroke-width="8" stroke-linecap="round"/>
          <path d="M45 45 L56 56" stroke="url(#qStroke)" stroke-width="8" stroke-linecap="round"/>
          <rect x="30" y="17" width="4" height="28" rx="2" fill="var(--logo-i)"/>
          <circle cx="32" cy="12.5" r="3" fill="var(--logo-dot)"/>
        </svg>
      </div>
      <div class="wordmark">Qualisight</div>
    </div>
    <div class="tagline">Actionable Quality Insights for Test Automation</div>

    <div class="grid">
      <section class="card">
        <div class="kpi"><div class="score">0/100</div></div>
        <div class="meta" id="kpiLine"></div>
        <div class="subhead heading-validation-summary">Validation Summary</div>
        <ul class="list" id="summaryList"></ul>
      </section>

      <section class="card">
        <div class="h2">Category Scores</div>
        <div class="chart-wrap">
          <div class="viz">
            <div class="pie" id="pie"></div>
            <div class="legend" id="catLegend" aria-label="Category legend"></div>
          </div>
          <div class="h2">Severity Breakdown</div>
          <div class="sev-rows" id="sevRows"></div>
          <div class="total-line" id="sevTotal"></div>
        </div>
      </section>
    </div>

    <section class="card" style="margin-top:24px">
      <div class="h2">Category Reports</div>
      <div class="tabs" id="catTabs" role="tablist" aria-label="Audit Categories"></div>
      <div id="catPanels"></div>
    </section>
  </div>

  <div id="tooltip" class="tooltip" hidden></div>

  <script>
  (function(){
    "use strict";
    const RESULT = {"targetDir":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui","timestamp":"2025-10-14T16:11:52.981Z","categories":[{"id":"structure","title":"Project Structure","findings":[{"id":"data-root-package-json-present","title":"Root package.json present","message":"Found","severity":"high","status":"pass","file":"package.json","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"]},{"id":"data-playwright-config-present","title":"Playwright config present","message":"Found","severity":"critical","status":"pass","file":"playwright.config.ts","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-tests-directory-exists","title":"Tests directory exists","message":"Found","severity":"medium","status":"pass","file":"tests","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests"]},{"id":"data-src-directory-exists","title":"Src directory exists","message":"Found","severity":"medium","status":"pass","file":"src","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src"]},{"id":"data-config-directory-exists","title":"Config directory exists","message":"Found","severity":"medium","status":"pass","file":"src/configs","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\configs"]},{"id":"data-data-directory-exists","title":"Data directory exists","message":"Found","severity":"medium","status":"pass","file":"src/data","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\data"]},{"id":"data-envs-directory-exists","title":"Envs directory exists","message":"Found","severity":"medium","status":"pass","file":"src/environments","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\environments"]},{"id":"data-fixtures-directory-exists","title":"Fixtures directory exists","message":"Found","severity":"medium","status":"pass","file":"src/fixtures","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\fixtures"]},{"id":"data-helpers-directory-exists","title":"Helpers directory exists","message":"Found","severity":"medium","status":"pass","file":"src/helpers","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\helpers"]},{"id":"data-pages-directory-exists","title":"Pages directory exists","message":"Found","severity":"medium","status":"pass","file":"src/pages","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages"]},{"id":"data-services-directory-exists","title":"Services directory exists","message":"Found","severity":"medium","status":"pass","file":"src/services","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\services"]},{"id":"data-utils-directory-exists","title":"Utils directory exists","message":"Found","severity":"medium","status":"pass","file":"src/utils","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\utils"]},{"id":"data--husky-directory-exists","title":".husky directory exists","message":"Found","severity":"medium","status":"pass","file":".husky","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.husky"]},{"id":"data-typescript-config-present","title":"TypeScript config present","message":"Found","severity":"low","status":"pass","file":"tsconfig.json","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tsconfig.json"]},{"id":"data-git-ignore-present","title":"Git ignore present","message":"Found","severity":"low","status":"pass","file":".gitignore","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.gitignore"]},{"id":"data-editor-config-present","title":"Editor config present","message":"Found","severity":"info","status":"pass","file":".editorconfig","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.editorconfig"]},{"id":"data-eslint-config-present","title":"ESLint config present","message":"Found","severity":"info","status":"pass","file":"eslint.config.js","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\eslint.config.js"]},{"id":"data-readme-present","title":"README present","message":"Found","severity":"medium","status":"pass","file":"README.md","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\README.md"]},{"id":"data-lockfile-present-npm-pnpm-yarn-","title":"Lockfile present (npm/pnpm/yarn)","message":"Missing","severity":"info","status":"fail","file":"package-lock.json","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package-lock.json"]},{"id":"data-single-lockfile-sanity","title":"Single lockfile sanity","message":"No lockfile found.","suggestion":"Keep only one of package-lock.json, pnpm-lock.yaml, or yarn.lock to avoid conflicts.","severity":"medium","status":"fail","artifacts":[]},{"id":"data-test-files-present","title":"Test files present","message":"Found 3 test file(s).","suggestion":"Ensure test files live under a consistent directory (e.g., tests/ or e2e/).","severity":"info","status":"pass","artifacts":[]},{"id":"data-prettier-config-present","title":"Prettier config present","message":"Found","suggestion":"Great—ensure your CI runs formatting checks.","severity":"info","status":"pass","file":".prettierrc","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.prettierrc"]},{"id":"data--vscode-folder-present","title":".vscode folder present","message":"Found","suggestion":"Consider sharing recommended extensions and settings for the repo.","severity":"info","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.vscode"]},{"id":"data-github-actions-workflows-folder","title":"GitHub Actions workflows folder","message":"Found","suggestion":"Ensure CI covers lint, typecheck, tests, and artifacts upload.","severity":"info","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows"]},{"id":"data-node-version-file-present","title":"Node version file present","message":"Missing","suggestion":"Add .nvmrc or .node-version to pin Node across environments.","severity":"info","status":"fail","artifacts":[]},{"id":"data-monorepo-workspace-detected","title":"Monorepo workspace detected","message":"No monorepo indicators detected (single-package repo).","suggestion":"If repo grows, consider workspaces for multi-package management.","severity":"info","status":"fail","artifacts":[]}],"score":92,"_maxPoints":85},{"id":"deps","title":"Dependencies","findings":[{"id":"dep-@playwright/test","title":"@playwright/test dependency","message":"Found @playwright/test@^1.51.1","severity":"critical","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-playwright","title":"playwright dependency","message":"playwright not found","severity":"high","status":"fail","file":"package.json","artifacts":[]},{"id":"dep-typescript","title":"typescript dependency","message":"Found typescript@^5.8.3","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-eslint","title":"eslint dependency","message":"Found eslint@^9.36.0","severity":"high","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-prettier","title":"prettier dependency","message":"Found prettier@^3.3.3","severity":"high","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-husky","title":"husky dependency","message":"Found husky@^9.1.7","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-lint-staged","title":"lint-staged dependency","message":"Found lint-staged@^15.5.1","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-@eslint/js","title":"@eslint/js dependency","message":"Found @eslint/js@^9.36.0","severity":"high","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-globals","title":"globals dependency","message":"Found globals@^15.12.0","severity":"high","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-eslint-config-prettier","title":"eslint-config-prettier dependency","message":"Found eslint-config-prettier@^9.1.0","severity":"high","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-eslint-plugin-playwright","title":"eslint-plugin-playwright dependency","message":"Found eslint-plugin-playwright@^2.0.0","severity":"critical","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-@faker-js/faker","title":"@faker-js/faker dependency","message":"Found @faker-js/faker@^9.7.0","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-chance","title":"chance dependency","message":"Found chance@^1.1.12","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-cross-env","title":"cross-env dependency","message":"Found cross-env@^7.0.3","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-lodash","title":"lodash dependency","message":"Found lodash@^4.17.21","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-rimraf","title":"rimraf dependency","message":"Found rimraf@^6.0.1","severity":"low","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-ts-node","title":"ts-node dependency","message":"Found ts-node@^10.9.2","severity":"low","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-tsx","title":"tsx dependency","message":"Found tsx@^4.20.6","severity":"low","status":"pass","file":"package.json","artifacts":[]},{"id":"dep-allure-commandline","title":"allure-commandline dependency","message":"allure-commandline not found","severity":"high","status":"fail","file":"package.json","artifacts":[]},{"id":"dep-allure-js-commons","title":"allure-js-commons dependency","message":"allure-js-commons not found","severity":"low","status":"fail","file":"package.json","artifacts":[]},{"id":"dep-allure-playwright","title":"allure-playwright dependency","message":"allure-playwright not found","severity":"high","status":"fail","file":"package.json","artifacts":[]},{"id":"deps-typescript-eslint-integration","title":"TypeScript ESLint integration","message":"Missing @typescript-eslint/eslint-plugin and/or @typescript-eslint/parser.","suggestion":"Install @typescript-eslint/eslint-plugin & @typescript-eslint/parser and remove legacy \"typescript-eslint\".","severity":"high","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tsconfig.json"]},{"id":"deps-typescript-typecheck-script","title":"TypeScript typecheck script","message":"Script \"typecheck\" missing","suggestion":"Add \"typecheck\": \"tsc -p tsconfig.json --noEmit\".","severity":"low","status":"fail","file":"package.json","artifacts":[]},{"id":"deps-playwright-test-script","title":"Playwright test script","message":"Script \"test\": playwright test","suggestion":"Add \"test\": \"playwright test\" (and consider CI variants like \"--reporter=line\").","severity":"medium","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-allure-dependencies-consistent","title":"Allure dependencies consistent","message":"Allure not used; skipping.","severity":"info","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-eslint-prettier-integration","title":"ESLint + Prettier integration","message":"ESLint and Prettier correctly integrated.","suggestion":"Install \"prettier\" and \"eslint-config-prettier\"; extend it last in ESLint config.","severity":"high","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-husky-installed-prepared","title":"Husky installed & prepared","message":"Husky installed, \"prepare\" script set, and .husky/ present.","suggestion":"Add \"prepare\": \"husky install\" and run it once to create .husky/.","severity":"medium","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.husky"]},{"id":"deps-lint-staged-configured","title":"lint-staged configured","message":"lint-staged configuration found.","suggestion":"Add a lint-staged config (e.g., format TS/JS/JSON/MD on pre-commit).","severity":"medium","status":"pass","artifacts":[]},{"id":"deps-no-floating-dependency-versions","title":"No floating dependency versions","message":"All versions pinned with a range (^ or ~) or exact.","severity":"low","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-single-lockfile-present","title":"Single lockfile present","message":"No lockfile found.","suggestion":"Commit your lockfile to ensure reproducible installs.","severity":"low","status":"pass","artifacts":[]},{"id":"deps-modern-date-time-library","title":"Modern date/time library","message":"Using \"moment\". Consider \"dayjs\" or \"date-fns\" for smaller footprint.","suggestion":"Migrate to \"dayjs\" or \"date-fns\" where possible.","severity":"info","status":"fail","file":"package.json","artifacts":[]},{"id":"deps-avoid-duplicate-data-gen-libraries","title":"Avoid duplicate data-gen libraries","message":"Both @faker-js/faker and chance detected.","suggestion":"Standardize on one data generator to reduce bundle size and surface area.","severity":"info","status":"fail","file":"package.json","artifacts":[]},{"id":"deps-node-engine-specified","title":"Node engine specified","message":"No engines.node field.","suggestion":"Add \"engines\": { \"node\": \">=18 \u003c23\" } (or whichever LTS you target).","severity":"info","status":"fail","file":"package.json","artifacts":[]},{"id":"deps-esm-tooling-coherence","title":"ESM tooling coherence","message":"ESM project with tsx available.","suggestion":"Prefer \"tsx\" for running TS in ESM projects.","severity":"info","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-eslint-lint-script-exists","title":"ESLint lint script exists","message":"Script \"lint\": eslint . --fix --max-warnings 0 --no-cache","severity":"low","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-prettier-format-script-exists","title":"Prettier format script exists","message":"Script \"format\": prettier -w . --ignore-pattern .prettierignore","severity":"low","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-clean-script-exists-for-artifacts","title":"Clean script exists for artifacts","message":"Artifact clean script not found.","suggestion":"Add \"clean\": \"rimraf test-results trace screenshots downloads coverage\" to keep repo tidy.","severity":"info","status":"fail","file":"package.json","artifacts":[]},{"id":"deps-test-runner-overlap-awareness","title":"Test runner overlap awareness","message":"Single-runner setup or clear separation assumed.","severity":"low","status":"pass","file":"package.json","artifacts":[]},{"id":"deps-cross-env-usage","title":"cross-env usage","message":"cross-env not referenced; skipping.","severity":"info","status":"pass","file":"package.json","artifacts":[]}],"score":77,"_maxPoints":171},{"id":"config","title":"Config","findings":[{"id":"cfg-present","title":"Playwright config present","message":"Found playwright.config.ts","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-use-block","title":"use block present","message":"`use: { ... }` block present","suggestion":"Add a `use: { ... }` section for trace/screenshot/video/baseURL defaults","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-trace","title":"Tracing enabled/configured","message":"Trace configured, but not set to on/retain-on-failure/on-first-retry","suggestion":"Set `use: { trace: \"retain-on-failure\" }` for effective debugging","severity":"medium","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-screenshot","title":"Screenshot enabled/configured","message":"Screenshot set to only-on-failure/on","suggestion":"Set `use: { screenshot: \"only-on-failure\" }`","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-retries","title":"Retries >= 1","message":"Retries configured (>= 1 or CI ternary)","suggestion":"Set `retries: 1` (or a CI ternary like `process.env.CI ? 2 : 1`)","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-workers","title":"Workers configured","message":"Workers set (>= 1 or CI ternary)","suggestion":"Set `workers: process.env.CI ? 1 : 4` (adjust for your infra)","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-headless","title":"Headless default true","message":"Headless not set to true by default","suggestion":"Use `use: { headless: true }` to avoid GUI overhead in CI","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-projects","title":"Parallel projects configured","message":"`projects: [...]` present","suggestion":"Use projects for browser matrix (Chromium/Firefox/WebKit) or device profiles","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-reporter-html","title":"HTML reporter enabled","message":"HTML reporter missing","suggestion":"Add `reporter: [[\"list\"], [\"html\", { open: \"never\" }]]` to persist interactive reports","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-reporter-junit","title":"JUnit reporter (optional)","message":"JUnit reporter not found","suggestion":"Consider adding `[\"junit\", { outputFile: \"test-results/junit.xml\" }]` for CI insights","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-baseurl","title":"Base URL configured","message":"`use.baseURL` present","suggestion":"Set `use: { baseURL: process.env.BASE_URL || \"http://localhost:3000\" }`","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-video","title":"Video capture set","message":"Video explicitly disabled (`video: \"off\"`)","suggestion":"Use `use: { video: \"on-first-retry\" }` to capture flaky tests","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-expect-timeout","title":"expect.timeout configured","message":"expect.timeout not configured","suggestion":"Set `expect: { timeout: 10000 }` to control default assertion timeout per expect()","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-timeout-sane","title":"Per-test timeout sane (≤ 60s)","message":"Per-test timeout ≤ 60s (or unspecified)","suggestion":"Prefer explicit waits/assertions and keep per-test timeout ≤ 60s; rely on expect timeouts","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-outputdir","title":"outputDir configured","message":"`outputDir` present (screenshots/traces)","suggestion":"Set `outputDir: \"test-results/\"` to keep results organized for CI artifact upload","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"cfg-webserver","title":"webServer with reuseExistingServer","message":"`webServer` present but `reuseExistingServer` not set to true","suggestion":"Configure `webServer` to start your app for E2E and set `reuseExistingServer: true` to speed up local runs","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"}],"score":46,"_maxPoints":26},{"id":"tests","title":"Test Quality","findings":[{"id":"data-tests-exist","title":"Tests exist","message":"Found 3 test file(s)","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\cart\\cart.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\checkout\\checkout.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\inventory\\inventory.spec.ts"]},{"id":"data-readable-structure-describe-step-","title":"Readable structure (describe/step)","message":"Found structure helpers in 6 file(s)","suggestion":"Use test.describe/test.step to group and narrate test flows.","severity":"medium","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\cart\\cart.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\checkout\\checkout.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\inventory\\inventory.spec.ts"]},{"id":"data-soft-assertions-when-appropriate","title":"Soft assertions when appropriate","message":"No expect.soft usage detected","suggestion":"Use expect.soft for non-critical checks so the test collects multiple failures.","severity":"info","status":"fail","artifacts":[]},{"id":"data-custom-fixtures-or-test-use-present","title":"Custom fixtures or test.use present","message":"No fixtures/test.use detected","suggestion":"Use test.extend/test.use to share setup, context, and per-test options.","severity":"medium","status":"fail","artifacts":[]},{"id":"data-avoid-waitfortimeout-anti-pattern","title":"Avoid waitForTimeout anti-pattern","message":"No waitForTimeout usage found","suggestion":"Replace waitForTimeout with locator assertions (e.g., await expect(locator).toBeVisible()).","severity":"high","status":"pass","artifacts":[]},{"id":"data-prefer-locator-assertions-over-waitforselector","title":"Prefer locator assertions over waitForSelector","message":"No page.waitForSelector usage found","suggestion":"Prefer await expect(locator).toBeVisible()/toHaveText() etc. Locator assertions auto-wait and are more resilient.","severity":"low","status":"pass","artifacts":[]},{"id":"data-no-focused-tests-committed","title":"No focused tests committed","message":"No .only usage detected","suggestion":"Delete .only before pushing; enforce via a pre-commit/CI grep to block focused tests.","severity":"critical","status":"pass","artifacts":[]},{"id":"data-reasonable-use-of-skip-fixme","title":"Reasonable use of skip/fixme","message":"No test.skip/fixme usage detected","suggestion":"Keep skip/fixme temporary; track issues and remove regularly to avoid masking failures.","severity":"info","status":"pass","artifacts":[]},{"id":"data-snapshot-visual-assertions","title":"Snapshot/visual assertions","message":"No snapshot/visual assertions detected","suggestion":"Use toHaveScreenshot()/toMatchSnapshot() for regressions where DOM/text checks are insufficient.","severity":"info","status":"fail","artifacts":[]},{"id":"data-suite-level-parallelization-used","title":"Suite-level parallelization used","message":"No explicit suite-level parallelization detected","suggestion":"Consider parallel mode for independent suites to reduce runtime; ensure test isolation first.","severity":"info","status":"fail","artifacts":[]},{"id":"data-network-mocking-used-where-appropriate","title":"Network mocking used where appropriate","message":"No route() usage detected in tests","suggestion":"Mock network for flaky/slow dependencies to make tests deterministic; prefer page.route for per-test scope.","severity":"info","status":"fail","artifacts":[]},{"id":"data-explicit-test-timeouts-kept-minimal","title":"Explicit test timeouts kept minimal","message":"No test.setTimeout/test.slow detected","suggestion":"Use explicit timeouts sparingly; fix root causes instead. If needed, annotate justification in code review.","severity":"low","status":"pass","artifacts":[]}],"score":79,"_maxPoints":39},{"id":"locators","title":"Locator Strategy","findings":[{"id":"data-avoid-xpath-selectors","title":"Avoid XPath selectors","message":"No XPath detected","suggestion":"Prefer role/test id/user-facing locators instead of //xpath.","severity":"high","status":"pass","artifacts":[]},{"id":"data-use-getbyrole-for-semantics","title":"Use getByRole for semantics","message":"getByRole used in 7 file(s)","suggestion":"Prefer getByRole with a meaningful accessible name for resilient locators.","severity":"medium","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\BasePage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\CartPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\CheckoutPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\HomePage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\InventoryPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\LoginPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\utils\\global-setup.ts"]},{"id":"data-accessible-name-with-getbyrole","title":"Accessible name with getByRole","message":"getByRole with { name: ... } in 6 file(s)","suggestion":"When using getByRole, pass an explicit { name: /text/ } to target the intended element.","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\CartPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\CheckoutPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\HomePage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\InventoryPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\LoginPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\utils\\global-setup.ts"]},{"id":"data-use-test-ids-for-stability","title":"Use test IDs for stability","message":"Stable test ID locators found in 1 file(s)","suggestion":"Introduce data-testid attributes for key elements and use getByTestId or [data-testid=...] selectors.","severity":"medium","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\BasePage.ts"]},{"id":"data-app-instrumented-with-data-testid","title":"App instrumented with data-testid","message":"No 'data-testid' attributes found in scanned files","suggestion":"Consider adding data-testid attributes to critical elements for robust selectors.","severity":"info","status":"fail","artifacts":[]},{"id":"data-use-user-facing-locators","title":"Use user-facing locators","message":"User-facing getBy* APIs used in 7 file(s)","suggestion":"Prefer getByText/Label/Placeholder/AltText/Title where appropriate to align with how users interact.","severity":"info","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\cart\\cart.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\checkout\\checkout.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\inventory\\inventory.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\BasePage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\CheckoutPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\pages\\LoginPage.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\utils\\global-setup.ts"]},{"id":"data-avoid-brittle-nth-chaining","title":"Avoid brittle nth() chaining","message":"No nth() chaining found","suggestion":"Target unique roles/test IDs or tighter scopes instead of relying on indexes.","severity":"low","status":"pass","artifacts":[]},{"id":"data-avoid-regex-getbytext","title":"Avoid regex getByText","message":"No regex getByText() detected","suggestion":"Prefer exact strings or accessible role+name. Regex text selectors can be brittle and slow.","severity":"low","status":"pass","artifacts":[]},{"id":"data-avoid-has-text-pseudo","title":"Avoid :has-text() pseudo","message":"No :has-text() usage","suggestion":"Use getByText / getByRole({ name }) / hasText option on locator() instead of :has-text().","severity":"low","status":"pass","artifacts":[]},{"id":"data-avoid-nth-child-in-selectors","title":"Avoid :nth-child() in selectors","message":"No :nth-child() usage in CSS selectors","suggestion":"Prefer semantic locators (role/name or test IDs) rather than positional CSS like :nth-child().","severity":"low","status":"pass","artifacts":[]}],"score":96,"_maxPoints":28},{"id":"flakiness","title":"Flakiness Risks","findings":[{"id":"flk-retries","title":"Retries >= 1","message":"Retries configured","suggestion":"Set retries: 1 (CI can be 2–3) to reduce flake impact.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-forbid-only","title":"forbidOnly enabled (CI safety)","message":"forbidOnly not enabled","suggestion":"Add `forbidOnly: !!process.env.CI` in Playwright config.","severity":"medium","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-timeout-per-test","title":"Reasonable per-test timeout (≤60s)","message":"Per-test timeout ≤ 60s (or default)","suggestion":"Keep per-test timeout ≤ 60s; use targeted waits for slow parts.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-timeout-action","title":"Reasonable actionTimeout (≤30s)","message":"actionTimeout ≤ 30s (or default)","suggestion":"Keep actionTimeout ≤ 30s to fail fast on stuck UI actions.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-timeout-navigation","title":"Reasonable navigationTimeout (≤30s)","message":"navigationTimeout ≤ 30s (or default)","suggestion":"Keep navigationTimeout ≤ 30s; prefer route mocking for slow externals.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-timeout-expect","title":"expect timeout (≤10s)","message":"expect timeout ≤ 10s (or default)","suggestion":"Use `expect: { timeout: 5_000–10_000 }` and soft expects sparingly.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-trace-policy","title":"Trace on retain-on-failure","message":"trace policy suboptimal: \"off\"","suggestion":"Use `trace: \"retain-on-failure\"` (or \"on-first-retry\") to speed up flake debug.","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-screenshot-policy","title":"Screenshot only on failure","message":"screenshot: \"only-on-failure\"","suggestion":"Use `screenshot: \"only-on-failure\"` to keep CI lean but helpful.","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-video-policy","title":"Video retain on failure (or off)","message":"video: \"off\"","suggestion":"Prefer `video: \"retain-on-failure\"` (or `off` if traces are enough).","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-fully-parallel","title":"Fully-parallel usage awareness","message":"fullyParallel enabled; ensure tests are stateless and isolated.","suggestion":"If you see heisenbugs, try per-file parallelism or mark stateful suites serial.","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-workers","title":"Sane workers count","message":"workers not explicitly set","suggestion":"Use a modest workers value in CI (e.g., 2–4) for stability.","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"flk-no-waitForTimeout","title":"Avoid waitForTimeout sleeps","message":"No waitForTimeout() found in sampled tests","suggestion":"Replace sleeps with explicit waits, e.g., `await expect(locator).toBeVisible()`.","severity":"high","status":"pass","file":"C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tests/cart/cart.spec.ts"},{"id":"flk-networkidle","title":"Avoid networkidle waits on dynamic apps","message":"No networkidle waits detected in sampled tests","suggestion":"Prefer specific UI/route signals over networkidle on long-polling apps.","severity":"medium","status":"pass","file":"C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tests/cart/cart.spec.ts"},{"id":"flk-serial-mode","title":"Avoid broad serial mode","message":"No broad serial mode detected in sampled tests","suggestion":"Limit serial mode to truly stateful suites; prefer setup/teardown.","severity":"medium","status":"pass","file":"C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tests/cart/cart.spec.ts"},{"id":"flk-html-report","title":"HTML report persisted","message":"HTML report not uploaded as artifact","suggestion":"Upload `playwright-report` (or your HTML report path) as an artifact via actions/upload-artifact.","severity":"low","status":"fail","file":"C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.github/workflows/ci.yml"}],"score":79,"_maxPoints":38},{"id":"reportingObs","title":"Reporting & Observability","findings":[{"id":"data-html-reporter-configured","title":"HTML reporter configured","message":"Not configured","suggestion":"Enable the built-in HTML reporter for local triage.","severity":"low","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-junit-reporter-for-ci","title":"JUnit reporter for CI","message":"Not configured","suggestion":"Add JUnit reporter so CI systems can parse results.","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-json-reporter-available","title":"JSON reporter available","message":"Not configured","suggestion":"JSON reporter is useful for custom dashboards or post-processing in CI.","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-allure-reporting-configured","title":"Allure reporting configured","message":"Not configured","suggestion":"If you use Allure, install allure-playwright and wire the reporter; upload allure-results in CI.","severity":"low","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-monocart-reporter-configured","title":"Monocart reporter configured","message":"Monocart reporter detected","suggestion":"Monocart provides a rich single-file report that is easy to archive in CI.","severity":"info","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"]},{"id":"data-html-report-persisted","title":"HTML report persisted","message":"HTML report not uploaded as artifact","suggestion":"Upload `playwright-report` as an artifact in CI.","severity":"low","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright-report","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.github/workflows/ci.yml"]},{"id":"data-traces-persisted","title":"Traces persisted","message":"No trace artifacts detected in repo/CI","suggestion":"Enable `trace: \"retain-on-failure\"` and upload trace/*.zip in CI.","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\trace","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.github/workflows/ci.yml"]},{"id":"data-screenshots-persisted","title":"Screenshots persisted","message":"No screenshots artifact detected","suggestion":"Use `screenshot: \"only-on-failure\"` and upload the folder in CI.","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\screenshots","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.github/workflows/ci.yml"]},{"id":"data-allure-results-persisted","title":"Allure results persisted","message":"No Allure results artifact detected","suggestion":"Upload `allure-results/` in CI and publish the report (`allure generate` or action).","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\allure-results","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.github/workflows/ci.yml"]},{"id":"data-trace-enabled-on-failures","title":"Trace enabled on failures","message":"Not configured","suggestion":"Set `use: { trace: \"retain-on-failure\" }` or \"on-first-retry\".","severity":"low","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-screenshots-on-failure","title":"Screenshots on failure","message":"Configured","suggestion":"Set `use: { screenshot: \"only-on-failure\" }`.","severity":"info","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-video-capture-policy","title":"Video capture policy","message":"Not configured","suggestion":"If helpful, set `video: \"retain-on-failure\"` and upload in CI.","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-output-directory-set","title":"Output directory set","message":"Configured","suggestion":"Set top-level `outputDir` to a stable path to collect artifacts.","severity":"info","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-attachments-in-tests","title":"Attachments in tests","message":"No test.info().attach usage detected","suggestion":"Use `test.info().attach(name, { body, contentType })` to include logs, HARs, or snapshots in reports.","severity":"info","status":"fail","artifacts":[]},{"id":"data-structured-steps-in-tests","title":"Structured steps in tests","message":"Found test.step in 3 file(s)","suggestion":"Wrap logical actions in `await test.step(\"description\", async () => { ... })` for clearer reports.","severity":"info","status":"pass","artifacts":["C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tests/cart/cart.spec.ts","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tests/checkout/checkout.spec.ts","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tests/inventory/inventory.spec.ts"]}],"score":21,"_maxPoints":19},{"id":"cicd","title":"CI/CD Integration","findings":[{"id":"cicd-pipeline-ready","title":"Pipeline ready","message":"GitHub Actions or GitLab CI detected","suggestion":"Add GitHub Actions under .github/workflows/ or a .gitlab-ci.yml file","severity":"high","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-playwright-install","title":"Playwright install in CI","message":"`npx playwright install` present","suggestion":"Add a step: `npx playwright install --with-deps` (Linux) before running tests","severity":"high","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-node-setup","title":"Node setup (version & cache)","message":"Node setup and/or dependency cache not configured","suggestion":"Use actions/setup-node with `cache: npm|yarn|pnpm` or GitLab `cache:` with a key to speed up installs","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-cache","title":"Dependency cache enabled","message":"No cache detected","suggestion":"Enable actions/cache (GH) or the `cache:` key (GL) to cache node_modules or package managers","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-artifacts","title":"Test report storage/archiving","message":"Artifacts upload missing","suggestion":"Upload HTML report, traces, screenshots as CI artifacts for debugging","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-artifact-retention","title":"Artifacts retention set","message":"No retention/expire policy found for artifacts","suggestion":"Set `retention-days:` (GH) or `expire_in:` (GL) to control artifact lifecycle","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-parallel","title":"Parallel/sharding configured","message":"No parallelism/sharding found","suggestion":"Use matrix/parallel (GH/GL) or `--shard=N/M` for faster CI runs","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-retries","title":"Retries enabled in CI","message":"No retries found in CI job","suggestion":"Pass `--retries 2` to `npx playwright test` or use `retry:` in GitLab","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-pr-mr","title":"PR/MR triggers","message":"CI is triggered on PRs/MRs","suggestion":"GitHub: add `on: pull_request`. GitLab: use `only: [merge_requests]` or rules.","severity":"medium","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-coverage","title":"Coverage uploaded/published","message":"No coverage publish step found","suggestion":"Upload LCOV to Codecov or persist coverage artifacts for trend tracking","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-concurrency","title":"Cancel in-progress runs (GH)","message":"Consider cancelling in-progress runs on new commits","suggestion":"Add `concurrency: { group: ${{ github.ref }}, cancel-in-progress: true }`","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-xvfb","title":"Headless display (xvfb) / system deps","message":"xvfb or system deps configured for browsers","suggestion":"Use `npx playwright install --with-deps` and/or run tests under `xvfb-run` on Linux runners","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-html-report","title":"HTML report persisted","message":"HTML report not uploaded as artifact","suggestion":"Upload `playwright-report` (or your HTML report path) as an artifact","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"},{"id":"cicd-traces","title":"Traces/screenshots persisted","message":"Traces/screenshots not uploaded as artifact","suggestion":"Upload `test-results`, `traces`, or screenshots folder as an artifact","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.github\\workflows\\ci.yml"}],"score":58,"_maxPoints":38},{"id":"network","title":"Network Control","findings":[{"id":"data-mocks-via-route-","title":"Mocks via route()","message":"No route() mocking detected","suggestion":"Use page.route() or browserContext.route() to intercept and mock network calls.","severity":"medium","status":"fail","artifacts":[]},{"id":"data-use-route-fulfill-for-mocked-responses","title":"Use route.fulfill for mocked responses","message":"No route.fulfill detected","suggestion":"Prefer await route.fulfill({ status, contentType, body }) for deterministic mocks. Consider storing payloads as fixtures.","severity":"low","status":"fail","artifacts":[]},{"id":"data-use-route-abort-to-simulate-failures","title":"Use route.abort to simulate failures","message":"No route.abort detected","suggestion":"Use await route.abort() to simulate network errors/timeouts and test resilience paths.","severity":"info","status":"fail","artifacts":[]},{"id":"data-use-route-continue-for-passthrough","title":"Use route.continue for passthrough","message":"No route.continue detected","suggestion":"Use await route.continue() when only modifying headers/method/url before allowing the request.","severity":"info","status":"fail","artifacts":[]},{"id":"data-avoid-chained-route-route","title":"Avoid chained route.route","message":"No nested route.route detected","suggestion":"Chaining route.route() can lead to complex, hard-to-debug flows. Prefer a single interception per request.","severity":"low","status":"pass","artifacts":[]},{"id":"data-har-based-network-mocking","title":"HAR-based network mocking","message":"No HAR-based mocking detected","suggestion":"Use routeFromHAR for realistic recordings of network traffic and faster, stable tests when the backend is volatile.","severity":"info","status":"fail","artifacts":[]},{"id":"data-prefer-page-route-over-context-route","title":"Prefer page.route over context.route","message":"No browserContext.route usage detected (good for isolation)","suggestion":"Use page.route where possible to scope mocks to a single test. If using context.route, ensure proper setup/teardown.","severity":"low","status":"pass","artifacts":[]},{"id":"data-request-event-handling","title":"Request event handling","message":"No request event handling detected","suggestion":"Use request events for diagnostics (logging, assertions). Prefer route() for deterministic mocking.","severity":"low","status":"fail","artifacts":[]},{"id":"data-route-defined-without-action","title":"Route defined without action","message":"All route() usages appear to take an action","suggestion":"Every interception should either fulfill, abort, or continue the request; otherwise it can hang or behave unexpectedly.","severity":"medium","status":"pass","artifacts":[]}],"score":42,"_maxPoints":19},{"id":"core","title":"Core Functionalities","findings":[{"id":"core-retries","title":"Readable assertions & retries configured","message":"Retries configured (≥ 1 or CI ternary)","suggestion":"Set `retries: 1` (or `process.env.CI ? 2 : 1`) to absorb flakiness.","severity":"medium","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"core-parallel","title":"Parallel/headless execution configured","message":"Headless and/or workers/projects are configured","suggestion":"Set `use: { headless: true }` and tune `workers` or `projects` for scale.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"core-helpers","title":"Reusable helpers/pages present","message":"Helpers/pages (PO) or utils detected","suggestion":"Factor common flows into Page Object classes (`src/pages/`) and utilities (`src/utils/`).","severity":"info","status":"pass"},{"id":"core-env-switch","title":"Environment switch available","message":"Environment switching detected (.env/process.env/baseURL)","suggestion":"Provide env switching via dotenv/.env and `use.baseURL` or process.env variables in config.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"core-grep-config","title":"Tags/Filtering in config (grep/grepInvert)","message":"No `grep`/`grepInvert` found in config","suggestion":"Use `grep`/`grepInvert` in config to enable tag-based filtering globally.","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"},{"id":"core-grep-scripts","title":"Tags/Filtering via npm scripts (--grep/-g)","message":"No scripts found using `--grep`/`-g`","suggestion":"Add scripts like `\"test:smoke\": \"playwright test --grep @smoke\"` in package.json.","severity":"low","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"},{"id":"core-spec-tags","title":"Spec files tagged (@smoke/@regression/...)","message":"A healthy portion of spec files include @tags","suggestion":"Append tags in titles, e.g., `test(\"login @smoke\", ...)` or `describe(\"checkout @regression\", ...)`.","severity":"info","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\cart\\cart.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\checkout\\checkout.spec.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tests\\inventory\\inventory.spec.ts"]}],"score":77,"_maxPoints":13},{"id":"advanced","title":"Advanced Capabilities","findings":[{"id":"adv-storage-state","title":"User impersonation / session reuse (storageState)","message":"Configured","suggestion":"Use storageState to persist logged-in session and speed up tests.","severity":"medium","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\fixtures\\ExtendedFixtures.ts","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\fixtures\\ExtendedFixtures.ts"]},{"id":"adv-custom-fixtures","title":"Custom fixtures (test.extend)","message":"Configured","suggestion":"Create domain fixtures via test.extend for reusable setup and test data.","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\fixtures\\ExtendedFixtures.ts","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\fixtures\\ExtendedFixtures.ts"]},{"id":"adv-custom-reporter","title":"Custom reporter (local path + hooks)","message":"Not configured","suggestion":"Configure reporter in playwright.config with a local path (e.g., [\"./myReporter\"]) and implement Reporter hooks (onBegin, onTestEnd, onEnd).","severity":"info","status":"fail","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\reporters\\custom-reporter.ts","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\src\\reporters\\custom-reporter.ts"]},{"id":"adv-network-mocks","title":"Network mocks/intercepts","message":"Not configured","suggestion":"Use page.route/context.route to stub network and isolate tests.","severity":"low","status":"fail","artifacts":[]}],"score":67,"_maxPoints":9},{"id":"data","title":"Data Management","findings":[{"id":"data-parameterized-environment-data","title":"Parameterized environment data","message":"Configured","suggestion":"Found .env.uat. Consider adding: .env.qa, .env.stage, .env.local.","severity":"info","status":"pass","artifacts":["C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.env.example","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/src/environments/.env.uat"]},{"id":"data-sample-env-file-committed-env-example-","title":"Sample env file committed (.env.example)","message":"Configured","suggestion":"Commit a sanitized .env.example to document required variables.","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.env.example"]},{"id":"data-secrets-management-env-ci-vars-","title":"Secrets management (env/CI vars)","message":"Configured","suggestion":"Use CI secrets & .env files; never commit secrets to VCS.","severity":"low","status":"pass","artifacts":["C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.env.example","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/src/environments/.env.uat"]},{"id":"data-env-variables-wired-in-config","title":"Env variables wired in config","message":"Configured","suggestion":"Load env via \"import 'dotenv/config'\" or dotenv.config() and reference process.env in playwright.config.*.","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-no-hardcoded-secrets-in-repo-quick-scan-","title":"No hardcoded secrets in repo (quick scan)","message":"Configured","suggestion":"Remove hardcoded secrets. Use CI secrets or .env. Consider adding a pre-commit secret scanner (e.g., gitleaks, trufflehog).","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.env.example"]},{"id":"data-artifacts-directories-present","title":"Artifacts directories present","message":"Not configured","suggestion":"Ensure CI preserves artifacts for debugging (test-results, trace, screenshots, downloads).","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\test-results","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\downloads","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\screenshots","C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\trace"]},{"id":"data-artifacts-configured-in-playwright-config","title":"Artifacts configured in Playwright config","message":"Configured","suggestion":"Configure outputDir, screenshot, trace, and video in playwright.config.* to standardize artifact locations.","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-artifacts-uploaded-in-ci","title":"Artifacts uploaded in CI","message":"Not configured","suggestion":"In GitHub Actions, use actions/upload-artifact to persist test-results/trace/screenshots on failures.","severity":"low","status":"fail","artifacts":["C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.github/workflows/ci.yml"]},{"id":"data--env-files-are-gitignored","title":".env files are gitignored","message":"Configured","suggestion":"Add .env* to .gitignore to avoid leaking secrets.","severity":"medium","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.gitignore"]},{"id":"data-artifacts-are-gitignored","title":"Artifacts are gitignored","message":"Configured","suggestion":"Add test-results/, trace/, screenshots/, downloads/ to .gitignore to keep repo clean.","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.gitignore"]},{"id":"data-global-setup-teardown-present","title":"Global setup/teardown present","message":"Configured","suggestion":"Add global-setup.ts / global-teardown.ts for seeding/cleanup/session bootstrapping if needed.","severity":"low","status":"pass","artifacts":["global-setup.ts","global-teardown.ts","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/src/utils/global-setup.ts","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/src/utils/global-teardown.ts"]},{"id":"data-global-setup-teardown-configured-in-playwright","title":"Global setup/teardown configured in Playwright","message":"Configured","suggestion":"Wire globalSetup/globalTeardown in playwright.config.* if using those scripts.","severity":"low","status":"pass","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\playwright.config.ts"]},{"id":"data-storage-state-configured","title":"Storage state configured","message":"Not configured","suggestion":"Use storageState to reuse auth sessions and avoid re-login. Store files under ./.auth and reference in use.storageState.","severity":"low","status":"fail","artifacts":[]},{"id":"data-auth-directory-present-auth-","title":"Auth directory present (.auth)","message":"Not configured","suggestion":"Prefer a dedicated .auth folder for session artifacts with proper .gitignore rules.","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.auth"]},{"id":"data-structured-test-data-present-json-csv-xlsx-","title":"Structured test data present (JSON/CSV/XLSX)","message":"Configured","suggestion":"Maintain test data as JSON/CSV/XLSX in a dedicated folder (e.g., test-data/ or __fixtures__/).","severity":"low","status":"pass","artifacts":["C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/package.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/tsconfig.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.vscode/extensions.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/.vscode/settings.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/artifacts/custom-summary.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/artifacts/logs/.f8f88c2ae91d19169edb68bb14a9472e657dfdc0-audit.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/artifacts/reports/.last-run.json","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/artifacts/reports/monocart-report/index.json"]},{"id":"data-dedicated-test-data-folders","title":"Dedicated test data folders","message":"Configured","suggestion":"Use test-data/, __fixtures__/, or resources/ to separate data from tests and code.","severity":"info","status":"pass","artifacts":["C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/src/data/checkout.ts","C:/Users/ashis.raj/Documents/Projects/Github/gl-pw-gen/test-ui/src/data/index.ts"]},{"id":"data-environment-schema-validation-library-installed","title":"Environment schema validation library installed","message":"Not configured","suggestion":"Validate required env vars on startup with zod/envalid/joi/yup to fail fast on misconfigurations.","severity":"low","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"]},{"id":"data-cleanup-script-for-artifacts","title":"Cleanup script for artifacts","message":"Not configured","suggestion":"Add \"clean\" script (rimraf test-results trace screenshots downloads) and run before/after CI jobs as needed.","severity":"info","status":"fail","artifacts":["C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"]}],"score":73,"_maxPoints":33},{"id":"best","title":"Best Practices Enforcement","findings":[{"id":"bp-eslint","title":"ESLint configured","message":"ESLint config present","severity":"medium","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\eslint.config.js"},{"id":"bp-prettier","title":"Prettier configured","message":"Prettier config present","suggestion":"Add .prettierrc or prettier.config.js and format scripts","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.prettierrc"},{"id":"bp-precommit","title":"Pre-commit hooks (husky + lint-staged)","message":"Pre-commit hooks present","suggestion":"Add Husky and lint-staged to enforce formatting & linting before commits","severity":"medium","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.husky"},{"id":"bp-syntax","title":"TypeScript strict mode","message":"tsconfig compilerOptions.strict = true","suggestion":"Set \"compilerOptions.strict\": true in tsconfig","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\tsconfig.json"},{"id":"bp-pw-best","title":"Avoid anti-patterns (e.g., waitForTimeout)","message":"No waitForTimeout usage found","suggestion":"Prefer expect-based waiting or proper events over waitForTimeout","severity":"info","status":"pass"},{"id":"bp-pr-template","title":"PR/MR review template","message":"Template missing","suggestion":"Add .github/pull_request_template.md (or GitLab MR template)","severity":"info","status":"fail"},{"id":"bp-readme","title":"README present","message":"README.md found","suggestion":"Add a README with setup instructions & common scripts","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\README.md"},{"id":"bp-editorconfig","title":".editorconfig present","message":".editorconfig found","suggestion":"Add an .editorconfig to standardize editor settings across contributors","severity":"info","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\.editorconfig"},{"id":"bp-format-script","title":"Format script exists","message":"npm run format exists","suggestion":"Add \"format\": \"prettier --check .\" and/or \"format:fix\": \"prettier --write .\"","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"},{"id":"bp-format-prettier","title":"Format script runs Prettier","message":"Format script uses Prettier","suggestion":"Ensure your format scripts call Prettier, e.g., \"prettier --check .\" and \"prettier --write .\"","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"},{"id":"bp-lint-script","title":"Lint script exists","message":"npm run lint exists","suggestion":"Add \"lint\": \"eslint . --ext .ts,.tsx,.js\" in package.json scripts","severity":"low","status":"pass","file":"C:\\Users\\ashis.raj\\Documents\\Projects\\Github\\gl-pw-gen\\test-ui\\package.json"}],"score":96,"_maxPoints":23},{"id":"notify","title":"Notification","findings":[{"id":"notif-slack-notifications","title":"Slack notifications","message":"No Slack notification configuration/usage was found (incoming webhook or Web API).","severity":"info","status":"fail"},{"id":"notif-webhook-notifications","title":"Webhook notifications","message":"No generic webhook POST usage detected (axios/fetch/got to non-local URL).","severity":"info","status":"fail"},{"id":"notif-email-notifications","title":"Email notifications","message":"No email notification configuration/usage found (nodemailer/sendgrid/SES).","severity":"info","status":"fail"}],"score":0,"_maxPoints":3}],"overallScore":75};

    // ---------------- Utils ----------------
    const $  = (s, r) => (r||document).querySelector(s);
    const $$ = (s, r) => Array.from((r||document).querySelectorAll(s));
    const norm = s => String(s||"").toLowerCase();
    const esc  = s => {
      return String(s).replace(/[&<>"']/g, function(c){
        switch(c){
          case '&': return '&amp;'; case '<': return '&lt;'; case '>': return '&gt;';
          case '"': return '&quot;'; case "'": return '&#039;';
          default: return c;
        }
      });
    }

    function normTitle(t){
      return String(t||"")
        .toLowerCase()
        .replace(/[_-]+/g," ")
        .replace(/[\s\u2000-\u206F\u2E00-\u2E7F\'’"“”‘‚‛\.,:;!\?()\[\]{}\/\+\*~#\^\$\|<>\x60]+/g," ")
        .trim()
        .replace(/\s+/g," ");
    }

    // Colors via golden-angle hues (unbounded distinct colors)
    function makeCategoryColors(n){
      const isLight = document.body.classList.contains("light");
      const sat = isLight ? 65 : 72;
      const lit = isLight ? 45 : 58;
      const phi = 137.508;
      const cols = [];
      for (let i=0;i<n;i++){
        const h = (i*phi) % 360;
        cols.push("hsl(" + h.toFixed(2) + ", " + sat + "%, " + lit + "%)");
      }
      return cols;
    }

    // Aggregate duplicate categories by normalized title; average scores
    function aggregateCategories(src){
      const groups = new Map();
      const order = [];
      (Array.isArray(src)?src:[]).forEach((c, i)=>{
        const title = (c && typeof c.title === "string") ? c.title.trim() : "";
        if (!title) return;
        const key = normTitle(title);
        if (!key) return;
        if (!groups.has(key)){
          groups.set(key, { key, title, scores: [], firstIndex: i });
          order.push(key);
        }
        const s = Number(c && c.score);
        groups.get(key).scores.push(Number.isFinite(s) && s >= 0 ? s : 0);
      });
      return order.map(key=>{
        const g = groups.get(key);
        const sum = g.scores.reduce((a,b)=>a+b,0);
        const avg = g.scores.length ? (sum / g.scores.length) : 0;
        return { key: g.key, title: g.title, score: avg };
      });
    }

    // ---------- Header / Summary ----------
    function renderHeader(){
      const score = $(".score"); if (score) score.textContent = String(RESULT.overallScore||0) + "/100";

      const cats = RESULT.categories||[];
      let pass=0, fail=0, total=0;
      cats.forEach(c => (c.findings||[]).forEach(f => { total++; (f && f.status==="pass")?pass++:fail++; }));
      const tiny = $("#kpiLine");
      if (tiny) tiny.innerHTML =
        "Categories: <b>" + cats.length + "</b>&nbsp;&nbsp; " +
        "Validations: <b>" + total + "</b>&nbsp;&nbsp; " +
        "<span style=\"color:#16a34a\">✅ (" + pass + ")</span>&nbsp;&nbsp; " +
        "<span style=\"color:#ef4444\">❌ (" + fail + ")</span>";

      const list = $("#summaryList"); if (!list) return;
      list.innerHTML = "";
      cats.forEach(cat=>{
        const tot = (cat.findings || []).length;
        const passCount = (cat.findings || []).filter(f => f && f.status==="pass").length;
        const failCount = tot - passCount;
        const li = document.createElement("li");
        li.className = "row";
        li.innerHTML =
          "<span class=\"name\">" + esc(cat.title||"") + " <small>(" + (cat.score??0) + ")</small></span>" +
          "<span class=\"right\">" +
            "<span class=\"badge ok\" title=\"Passed validations\">" + passCount + "</span>" +
            "<span class=\"badge err\" title=\"Failed validations\">" + failCount + "</span>" +
          "</span>";
        list.appendChild(li);
      });
    }

    // ---------- Tabs & Panels ----------
    function renderTabsAndPanels(){
      const tabsHost = $("#catTabs"); const panelsHost = $("#catPanels");
      if (!tabsHost || !panelsHost) return;
      tabsHost.innerHTML=""; panelsHost.innerHTML="";

      const cats = RESULT.categories||[];
      cats.forEach((c, idx)=>{
        const btn = document.createElement("button");
        btn.className="tab"; btn.id="tab-"+c.id;
        btn.setAttribute("role","tab"); btn.setAttribute("aria-controls","panel-"+c.id);
        btn.setAttribute("aria-selected", idx===0?"true":"false");
        btn.innerHTML = esc(c.title||"") + " (" + (c.score??0) + ")";
        tabsHost.appendChild(btn);

        const panel = document.createElement("div");
        panel.className="cat-panel"+(idx!==0?" hidden":"");
        panel.id="panel-"+c.id; panel.setAttribute("role","tabpanel");
        panel.setAttribute("aria-labelledby","tab-"+c.id);

        const pass = (c.findings||[]).filter(f=>f && f.status==="pass").length;
        const fail = (c.findings||[]).length - pass;
        const head = document.createElement("div");
        head.className="meta"; head.style.marginBottom="12px";
        head.innerHTML = "Validations: <b>" + ((c.findings||[]).length) + "</b> " +
                         "&nbsp;&nbsp; <span style=\"color:#16a34a\">✅ " + pass + "</span> " +
                         "&nbsp;&nbsp; <span style=\"color:#ef4444\">❌ " + fail + "</span>";
        panel.appendChild(head);

        const wrap = document.createElement("div"); wrap.className="findings-wrap";
        (c.findings||[]).forEach(f=>{
          const st = (f && f.status==="pass")?"pass":"fail";
          const details = document.createElement("details");
          details.className="item"; details.open=true;

          const sev = String((f && f.severity) || "info").toLowerCase();
          const sevClass = "sev-"+(["critical","high","medium","info"].includes(sev)?sev:"info");

          const textBlob = [ f && f.title, f && f.message, f && f.suggestion, f && f.file,
            Array.isArray(f && f.artifacts)? (f.artifacts||[]).join(" ") : (f && f.artifacts) ]
            .filter(Boolean).join(" ");
          details.dataset.status = st;
          details.dataset.search = norm(textBlob);

          const fileLine = (f && f.file) ? "<div class=\"sub\" style=\"margin-top:4px\">" + esc(f.file) + "</div>" : "";
          const artHtml = (Array.isArray(f && f.artifacts) && (f && f.artifacts).length)
            ? "<div style=\"margin-top:6px\"><b>Artifacts:</b><ul style=\"margin:6px 0 0 16px; padding:0\">" +
              (f && f.artifacts).map(a=>"<li>" + esc(String(a)) + "</li>").join("") +
              "</ul></div>"
            : "";
          const suggestion = (f && f.suggestion) ? "<div style=\"margin-top:6px\"><i>Suggestion: " + esc(f.suggestion) + "</i></div>" : "";

          details.innerHTML =
            "<summary>"+
              "<div class=\"item-head\">"+
                "<div class=\"status status-"+st+"\">"+(st==="pass"?"✓ Pass":"✕ Fail")+"</div>"+
                "<div><b>"+esc((f && f.title) || "")+"</b>"+fileLine+"</div>"+
                "<div style=\"text-align:right\"><span class=\"sev-badge "+sevClass+"\">"+esc(sev)+"</span></div>"+
              "</div>"+
            "</summary>"+
            "<div class=\"item-body\">"+
              ((f && f.message)? "<div>"+esc(f.message)+"</div>" : "")+
              suggestion + artHtml +
            "</div>";
          wrap.appendChild(details);
        });

        panel.appendChild(wrap);
        panelsHost.appendChild(panel);
      });
    }

    // ---------- Controls ----------
    function wireControls(){
      $("#btnTheme")?.addEventListener("click", ()=>{
        document.body.classList.toggle("light");
        drawPie();   // recolor & rerender
        wirePieTooltip();
      });

      $("#btnCsv")?.addEventListener("click", ()=>{
        const rows = [["Category","Status","Severity","Title","Message","Suggestion","File","Artifacts"]];
        (RESULT.categories||[]).forEach(c=>{
          (c.findings||[]).forEach(f=>{
            rows.push([
              c.title||"",
              (f && f.status)||"",
              String((f && f.severity) || ""),
              (f && f.title)||"",
              (f && f.message)||"",
              (f && f.suggestion)||"",
              (f && f.file)||"",
              Array.isArray(f && f.artifacts)? (f && f.artifacts).join(" | ") : ((f && f.artifacts)||"")
            ]);
          });
        });
        const csv = rows.map(r=>r.map(cell => '"' + String(cell).replace(/"/g,'""') + '"').join(",")).join("\r\n");
        const blob = new Blob([csv], {type:"text/csv;charset=utf-8;"});
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "qualisight-findings.csv";
        document.body.appendChild(a); a.click();
        setTimeout(()=>{ URL.revokeObjectURL(a.href); a.remove(); }, 0);
      });

      const tabsHost = $("#catTabs");
      const panelsHost = $("#catPanels");
      tabsHost?.addEventListener("click", (e)=>{
        const btn = (e.target && e.target.closest) ? e.target.closest(".tab") : null; if (!btn) return;
        const catId = btn.id.replace("tab-","");
        $$("#catTabs .tab").forEach(b=> b.setAttribute("aria-selected", b===btn ? "true" : "false"));
        panelsHost?.querySelectorAll(".cat-panel").forEach(p=> p.classList.toggle("hidden", p.id !== ("panel-" + catId)));
        applyFilters();
      });
      tabsHost?.addEventListener("keydown", (e)=>{
        const keys = ["ArrowLeft","ArrowRight","Home","End"]; if (!keys.includes(e.key)) return;
        const buttons = Array.from(tabsHost.querySelectorAll(".tab"));
        let i = buttons.findIndex(b=> b.getAttribute("aria-selected")==="true"); if (i===-1) i=0;
        if (e.key==="ArrowRight") i = (i+1)%buttons.length;
        if (e.key==="ArrowLeft") i = (i-1+buttons.length)%buttons.length;
        if (e.key==="Home") i = 0;
        if (e.key==="End") i = buttons.length-1;
        const next = buttons[i]; if (next){ (next).click(); (next).focus(); }
      });

      const $search = $("#search");
      const $onlyFailed = $("#onlyFailed");
      const $btnExpandAll = $("#btnExpandAll");
      const $btnCollapseAll = $("#btnCollapseAll");

      let t = null;
      $search?.addEventListener("input", ()=>{
        if (t) clearTimeout(t);
        t = setTimeout(applyFilters, 120);
      });
      $onlyFailed?.addEventListener("change", applyFilters);

      $btnExpandAll?.addEventListener("click", ()=>{
        const p = getActivePanel(); if (!p) return;
        p.querySelectorAll(".item").forEach(d => { if ((d).style.display !== "none") (d).open = true; });
      });
      $btnCollapseAll?.addEventListener("click", ()=>{
        const p = getActivePanel(); if (!p) return;
        p.querySelectorAll(".item").forEach(d => { if ((d).style.display !== "none") (d).open = false; });
      });
    }

    function getActivePanel(){
      const panels = $$("#catPanels .cat-panel");
      return panels.find(p => !p.classList.contains("hidden")) || panels[0] || null;
    }

    function applyFilters(){
      const panel = getActivePanel(); if (!panel) return;
      const queryEl = $("#search");
      const onlyFailedEl = $("#onlyFailed");
      const query = norm(queryEl ? (queryEl).value : "").trim();
      const failedOnly = !!(onlyFailedEl && (onlyFailedEl).checked);

      let shown = 0;
      $$(".item", panel).forEach(el=>{
        const ds = (el).dataset || {};
        const matchQuery = !query || (ds.search || "").includes(query);
        const matchStatus = !failedOnly || ds.status === "fail";
        const show = matchQuery && matchStatus;
        (el).style.display = show ? "" : "none";
        if (show) shown++;
      });
      (panel).setAttribute("data-visible-count", String(shown));
    }

    // ---------- Legend ----------
    function renderLegend(cats, colors){
      const legend = $("#catLegend"); if (!legend) return;
      legend.innerHTML = "";
      cats.forEach((c, i)=>{
        const item = document.createElement("div");
        item.className = "legend-item";
        item.setAttribute("data-index", String(i));
        const sw = document.createElement("span");
        sw.className = "legend-swatch";
        sw.style.background = colors[i];
        sw.setAttribute("aria-hidden","true");
        const label = document.createElement("span");
        label.className = "legend-label";
        const pretty = Math.round((Number(c.score)||0)*100)/100;
        label.title = c.title + " (" + pretty + ")";
        label.textContent = c.title;
        item.appendChild(sw);
        item.appendChild(label);
        legend.appendChild(item);
      });
      bindLegendHover();
    }

    // ---------- PIE CHART ----------
    // Exact 360° pie with LRM; duplicates aggregated; zero-score categories omitted from arcs.
    function drawPie(){
      const host = $("#pie"); if (!host) return;
      const rawCats = aggregateCategories(RESULT.categories || []);

      // Split into positive and zero score sets
      const posCats = rawCats.filter(c => Number(c.score) > 0);
      const catsForPie = posCats.length ? posCats : rawCats.slice(); // if all zero, make equal slices
      const total = catsForPie.reduce((a,c)=> a + Math.max(0, Number(c.score)||0), 0);
      const n = catsForPie.length;

      // Colors for ALL categories (legend uses colors for zeros too)
      const colorsAll = makeCategoryColors(rawCats.length);
      const colorMap = new Map();
      rawCats.forEach((c, i)=> colorMap.set(c.key, colorsAll[i]));
      const colorsPie = catsForPie.map(c => colorMap.get(c.key) || "#888");

      // Angle allocation (Largest Remainder Method) to sum exactly 360
      const TOTAL = 360;
      const floats = (total === 0)
        ? catsForPie.map(()=> TOTAL / n)
        : catsForPie.map(c => (Math.max(0, Number(c.score)||0) / total) * TOTAL);
      const base = floats.map(Math.floor);
      let remaining = TOTAL - base.reduce((a,b)=>a+b,0);
      const frac = floats.map((v,i)=>({i, r:v-base[i]})).sort((a,b)=>b.r - a.r);
      for (let k=0;k<remaining;k++) base[frac[k].i]++;

      // Build paths
      const W=260, H=260, CX=130, CY=130, R=100;
      let angle = -90; // start at top

      function polarToXY(cx, cy, r, aDeg){
        const a = (aDeg * Math.PI) / 180;
        return { x: cx + r * Math.cos(a), y: cy + r * Math.sin(a) };
      }
      function arcPath(cx, cy, r, startAngle, endAngle){
        const large = (endAngle - startAngle) > 180 ? 1 : 0;
        const p0 = polarToXY(cx, cy, r, startAngle);
        const p1 = polarToXY(cx, cy, r, endAngle);
        return [
          "M", cx, cy,
          "L", p0.x, p0.y,
          "A", r, r, 0, large, 1, p1.x, p1.y,
          "Z"
        ].join(" ");
      }

      // Build one <svg> with a single <defs> that contains per-slice radial gradients
      const gradParts = [];
      const sliceParts = [];
      for (let i=0; i<base.length; i++){
        const sweep = base[i];
        if (sweep <= 0) continue;
        const start = angle;
        const end = angle + sweep;
        const d = arcPath(CX, CY, R, start, end);
        const c = catsForPie[i];
        const pretty = Math.round((Number(c.score)||0)*100)/100;
        const label = c.title + " (" + pretty + ")";
        const fillId = "grad-" + i;

        // radial gradient for depth
        gradParts.push(
          '<radialGradient id="' + fillId + '" cx="50%" cy="50%" r="85%">' +
            '<stop offset="0%" stop-color="' + colorsPie[i] + '" stop-opacity="1"/>' +
            '<stop offset="100%" stop-color="' + colorsPie[i] + '" stop-opacity="0.82"/>' +
          '</radialGradient>'
        );

        sliceParts.push(
          '<path data-slice="1" data-index="' + i + '" d="' + d + '" fill="url(#' + fillId + ')"' +
          ' role="img" tabindex="0" aria-label="' + esc(label) + '">' +
            '<title>' + esc(label) + '</title>' +
          '</path>'
        );

        angle = end;
      }

      host.innerHTML =
        '<svg viewBox="0 0 ' + W + ' ' + H + '" width="' + W + '" height="' + H + '" aria-label="Category pie">' +
          '<defs>' + gradParts.join('') + '</defs>' +
          sliceParts.join('') +
        '</svg>' +
        '<div class="center">' + (RESULT.overallScore||0) + '/100</div>';

      // Legend for all categories (including zeros)
      renderLegend(rawCats, colorsAll);

      // Hover sync
      bindPieHover(catsForPie, rawCats);

      // Tooltip for slices
      wirePieTooltip();

      // Entrance animation: staggered pop-in
      requestAnimationFrame(()=>{
        const slices = host.querySelectorAll('path[data-slice="1"]');
        slices.forEach((el, i)=>{
          setTimeout(()=> el.classList.add('pop-in'), i*60);
        });
      });
    }

    // ---------- Severity Bars ----------
    function drawBars(){
      const sevColors = { critical:"#ef4444", high:"#f59e0b", medium:"#38bdf8", info:"#7c83ff" };
      const order = ["critical","high","medium","info"];
      const counts = { critical:0, high:0, medium:0, info:0, low:0 };

      (RESULT.categories||[]).forEach(c=>{
        (c.findings||[]).forEach(f=>{
          let s = (f && f.severity ? String(f.severity).toLowerCase() : "info");
          if (s==="low") s="info";
          if (!counts.hasOwnProperty(s)) s="info";
          counts[s]++;
        });
      });

      const max = Math.max(1, counts.critical, counts.high, counts.medium, counts.info);
      const total = counts.critical + counts.high + counts.medium + counts.info;

      const host = $("#sevRows"); if (!host) return;
      host.innerHTML = "";
      order.forEach(key=>{
        const row = document.createElement("div"); row.className="sev-row";
        const pct = Math.round((counts[key]/max)*100);
        row.innerHTML =
          '<div class="sev-name">' + key + '</div>' +
          '<div class="sev-track"><div class="sev-fill" style="width:' + pct + '%; background:' + sevColors[key] + '"></div></div>' +
          '<div class="sev-val">' + counts[key] + '</div>';
        host.appendChild(row);
      });
      const totalLine = $("#sevTotal"); if (totalLine) totalLine.textContent = "Total validations: " + total;
    }

    // ---------- Tooltip (pie) ----------
    function wirePieTooltip(){
      const host = $("#pie"); const tip = $("#tooltip"); if (!host || !tip) return;
      const POS = 12;
      function show(e, el){
        const t = el.getAttribute("aria-label") || "Category";
        tip.textContent = t;
        tip.hidden = false; move(e);
      }
      function move(e){
        const src = (e.touches && e.touches[0]) ? e.touches[0] : e;
        tip.style.left = ((src.clientX||0)+POS)+"px";
        tip.style.top  = ((src.clientY||0)+POS)+"px";
      }
      function hide(){ tip.hidden = true; }
      host.querySelectorAll('[data-slice="1"]').forEach(el=>{
        el.addEventListener("mouseenter", e=>show(e,el));
        el.addEventListener("mousemove",  e=>move(e));
        el.addEventListener("mouseleave", hide);
        el.addEventListener("focus",      e=>show(e,el));
        el.addEventListener("blur",       hide);
        el.addEventListener("touchstart", e=>{ show(e,el); setTimeout(hide,1200); }, {passive:true});
      });
    }

    // ---------- Mutual hover: legend <-> pie ----------
    function bindLegendHover(){
      const legend = $("#catLegend"); const pie = $("#pie"); if (!legend || !pie) return;
      legend.querySelectorAll(".legend-item").forEach(item=>{
        const idx = item.getAttribute("data-index");
        item.addEventListener("mouseenter", ()=>{
          const target = pie.querySelector('[data-slice="1"][data-index="' + idx + '"]');
          if (target){
            target.style.filter = "brightness(1.15) saturate(1.2)";
            target.style.stroke = "#ffffff88";
            target.style.strokeWidth = "1.5";
            target.style.transform = "scale(1.05)";
          }
          item.classList.add("hover");
        });
        item.addEventListener("mouseleave", ()=>{
          const target = pie.querySelector('[data-slice="1"][data-index="' + idx + '"]');
          if (target){
            target.style.filter = "";
            target.style.stroke = "none";
            target.style.strokeWidth = "0";
            target.style.transform = "";
          }
          item.classList.remove("hover");
        });
      });
    }

    function bindPieHover(catsForPie, rawCats){
      const legend = $("#catLegend"); const pie = $("#pie"); if (!legend || !pie) return;
      const legendItems = Array.from(legend.querySelectorAll(".legend-item"));
      pie.querySelectorAll('[data-slice="1"]').forEach(slice=>{
        const pieIdx = Number(slice.getAttribute("data-index"));
        const catKey = (catsForPie[pieIdx] || {}).key;
        const rawIdx = rawCats.findIndex(c => c.key === catKey);
        slice.addEventListener("mouseenter", ()=>{
          const li = legendItems[rawIdx];
          if (li) li.classList.add("hover");
        });
        slice.addEventListener("mouseleave", ()=>{
          const li = legendItems[rawIdx];
          if (li) li.classList.remove("hover");
        });
      });
    }

    // ---------- Init ----------
    function drawAll(){
      renderHeader();
      renderTabsAndPanels();
      wireControls();
      applyFilters();
      drawPie();     // 3D pie with gradients & animation
      drawBars();
      wirePieTooltip();
    }
    drawAll();
  })();
  </script>
</body>
</html>